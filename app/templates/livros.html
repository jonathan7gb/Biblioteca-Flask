{% extends "head.html" %}

{% include "header.html" %}

{% block content %}

<div class="container-livros flex flex-col justify-center align-center">
    <div class="titulo mt-[4rem] flex-col justify-center items-center">
        <h2 class="text-3xl text-center text-orange-500 font-bold">LIVROS </h2>
    </div>

    {% if current_user.email == 'admin@gmail.com' %}
    <div class="container-livros flex justify-center">
        <div class="gerenciar flex flex-col justify-center mt-[3rem] w-[800px]">
            <h2 class="text-center text-2xl text-orange-500 font-semibold">Gerenciar</h2>
            <div class="botoes grid grid-cols-1 w-[150px] justify-center text-center">
                <a href="{{url_for('livro_cadastro')}}" class="bg-orange-500 text-stone-50 font-semibold text-lg mt-7 rounded py-1 px-3 flex flex-row justify-between items-center hover:bg-orange-700 cursor-pointer transition-all duration-500">Cadastrar <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-circle-plus-icon lucide-circle-plus"><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/></svg></a>
            </div>
        </div>
    </div>
    {% endif %}

    <div class="pesquisa mt-[3rem] flex justify-center">
        <form action="" method="get" class="flex flex-row gap-4 w-[800px]">
                <div class="w-full">
                    <input type="text" name="pesquisa" class="w-full border-[1px] rounded border-stone-400 px-1 py-1 outline-orange-500 outline-2" placeholder="Pesquisar Livro">
                </div>
                <div class="w-70">
                    <button type="submit" class="bg-orange-500 w-full text-stone-50 font-semibold text-lg rounded py-1 px-4 hover:bg-orange-700 cursor-pointer transition-all duration-500">Pesquisar</button>
                </div>
            </form>
    </div>

    <section class="usuarios flex justify-center mt-[3rem] px-4">
        <div class="lista-usuarios grid grid-cols-4 gap-[2rem] mb-[1rem] w-[1500px]">
            {% for livro in livros.dados %}
                <div class="card-usuario border-orange-500 border-[1px] rounded p-5">
                    <div class="nome-svg flex flex-row gap-4 items-center justify-start">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="oklch(0.705 0.213 47.604)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-book-open-icon lucide-book-open"><path d="M12 7v14"/><path d="M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z"/></svg>
                        <h2 class="text-xl font-semibold text-orange-500">{{livro.titulo}} [{{livro.id}}]</h2>
                    </div>
                    <p class="mt-3 text-orange-500 font-semibold">Autor: <span class="text-zinc-950 font-normal">{{livro.autor}}</span></p>
                    <p class="mt-3 text-orange-500 font-semibold">Ano de Publicacão: <span class="text-zinc-950 font-normal">{{livro.anoPublicacao}}</span></p>
                    <p class="mt-3 text-orange-500 font-semibold">Editora: <span class="text-zinc-950 font-normal">{{livro.editora}}</span></p>
                    <p class="mt-3 text-orange-500 font-semibold">Gênero: <span class="text-zinc-950 font-normal">{{livro.genero}}</span></p>
                    <p class="mt-3 text-orange-500 font-semibold">Exemplares Disponíveis: <span class="text-zinc-950 font-normal">{{livro.quantidade_disponivel}}</span></p>
                    <p class="mt-3 mb-3 text-orange-500 font-semibold">Status:{% if livro.status == 'Indisponível' %} <span class="text-red-800 font-normal">{{livro.status}}</span> {% else %} <span class="text-green-600 font-normal">{{livro.status}}</span> {% endif %} </p>
                   
                   {% if current_user.email == 'admin@gmail.com' %}
                    <div class="botoes flex flex-row gap-4">

                        <form action="{{ url_for('delete_livro', id=livro.id) }}" method="POST" style="display:inline;">
                                <button type="submit" class="border border-orange-500 p-1 rounded bg-orange-500"
                                        onclick="return confirm('Tem certeza que deseja excluir este livro?');">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash-icon lucide-trash"><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6"/><path d="M3 6h18"/><path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
                                </button>
                            </form>

                            <a href="{{url_for('editar_livro', id=livro.id)}}" class="border border-orange-500 p-1 rounded bg-orange-500"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pencil-icon lucide-pencil"><path d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"/><path d="m15 5 4 4"/></svg></a>
                    </div>
                    {% endif %}

                </div>
               
                                    
            {% endfor %}
        </div>

    </section>



</div>

{% endblock %}